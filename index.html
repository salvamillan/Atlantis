<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Atlantis — Librería Online</title>
    <meta name="description" content="Atlantis — tienda online de libros. Descubre, elige y compra tus próximos favoritos." />
    <link rel="preconnect" href="https://images.unsplash.com">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="topbar">
      <a class="brand" href="#" aria-label="Atlantis Home">
        <div class="logo">A</div>
        <div class="brandText">
          <div class="title">Atlantis</div>
          <div class="subtitle">Librería Online</div>
        </div>
      </a>

      <div class="topActions">
        <div class="pill" id="userPill">
          <span class="dot" aria-hidden="true"></span>
          <span id="userStatus">No autenticado</span>
        </div>

        <button class="btn btn-ghost" id="chatBtn" hidden>Iniciar chat</button>
        <button class="btn btn-ghost" id="logoutBtn" hidden>Cerrar sesión</button>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="heroImage" role="img" aria-label="Librería bonita"></div>
        <div class="heroOverlay"></div>
        <div class="heroInner">
          <div class="heroCard">
            <h1>Tu próxima lectura te espera</h1>
            <p>
              Bienvenido a la librería del mañana. En Atlantis fusionamos la pasión por la lectura con tecnología de punta.
              Utiliza nuestro motor de búsqueda impulsado por Inteligencia Artificial para encontrar tu próxima obsesión literaria en segundos,
              explora libros en realidad aumentada y disfruta de una experiencia de compra inteligente, personalizada y 100% digital.
              Descubre, conecta y sumérgete en historias con la tecnología más avanzada del sector editorial.
            </p>

            <div class="heroStats">
              <div class="stat">
                <div class="statNum" id="statBooks">—</div>
                <div class="statLbl">Libros</div>
              </div>
              <div class="stat">
                <div class="statNum" id="statInStock">—</div>
                <div class="statLbl">En stock</div>
              </div>
              <div class="stat">
                <div class="statNum" id="statGenres">—</div>
                <div class="statLbl">Géneros</div>
              </div>
            </div>
          </div>

          <div class="loginCard card" id="loginCard">
            <div class="cardHeader">
              <h2>Iniciar sesión</h2>
              <p class="muted">Valida tu cliente contra tu API en AWS.</p>
            </div>

            <form id="loginForm" class="form">
              <label>
                <span>ID de cliente</span>
                <input id="customerId" type="text" placeholder="1111" autocomplete="username" required />
              </label>

              <label>
                <span>Contraseña</span>
                <input id="password" type="password" placeholder="••••" autocomplete="current-password" required />
              </label>

              <p class="error" id="loginError" hidden></p>

              <button type="submit" class="btn btn-primary">Entrar</button>
            </form>

            <p class="helper">Inicia sesión para guardar tus preferencias y acceder a una experiencia de lectura personalizada.</p>
          </div>
        </div>
      </section>

      <section class="store" id="storeCard" hidden>
        <aside class="sidebar">
          <div class="sidebarInner">
            <h2>Explora el catálogo</h2>
            <p class="muted">
              Filtra por título, autor o género y consulta tus pedidos asociados a tu usuario.
            </p>

            <div class="sidebarSection">
              <h3>Catálogo</h3>
              <p class="small muted">
                Los libros se cargan desde tu endpoint de catálogo en AWS.
              </p>
            </div>

            <div class="sidebarSection">
              <h3>Pedidos</h3>
              <p class="small muted">
                “Mis pedidos” carga los pedidos asociados al cliente autenticado.
              </p>
            </div>
          </div>
        </aside>

        <section class="storeMain">
          <div class="storeHeader">
            <div>
              <h2 id="pageTitle">Catálogo</h2>
              <p class="muted" id="pageSubtitle">
                Todos los libros disponibles en tu API.
              </p>
            </div>

            <div class="storeControls">
              <!-- NAV -->
              <button class="btn btn-ghost" id="navCatalogBtn">Catálogo</button>
              <button class="btn btn-ghost" id="navOrdersBtn">Mis pedidos</button>

              <!-- FILTROS (solo catálogo) -->
              <input id="searchInput" type="text" placeholder="Buscar por título o autor…" />
              <select id="genreSelect">
                <option value="">Todos los géneros</option>
              </select>
              <label class="checkbox">
                <input type="checkbox" id="inStockOnly" />
                <span>Solo en stock</span>
              </label>
              <button class="btn btn-ghost" id="refreshBtn">Actualizar</button>
            </div>
          </div>

          <div class="grid" id="booksGrid"></div>

          <!-- Orders view (hidden by default) -->
          <section class="orders" id="ordersView" hidden>
            <div class="ordersTop">
              <div class="muted">Estos son tus pedidos (según tu usuario).</div>
              <button class="btn btn-ghost" id="refreshOrdersBtn">Actualizar pedidos</button>
            </div>

            <div class="ordersTableWrap">
              <table class="ordersTable">
                <thead>
                  <tr>
                    <th>ID Pedido</th>
                    <th>Fecha</th>
                    <th>Estado</th>
                    <th>Libro</th>
                    <th>Importe</th>
                  </tr>
                </thead>
                <tbody id="ordersTbody">
                  <!-- rows -->
                </tbody>
              </table>
            </div>

            <p class="error" id="ordersError" hidden></p>
          </section>

          <div class="storeFooter">
            <span class="muted" id="booksCount"></span>
            <p class="error" id="booksError" hidden></p>
          </div>
        </section>
      </section>
    </main>

    <script src="app.js"></script>

    <!-- Genesys Cloud Web Messenger -->
    <script type="text/javascript" charset="utf-8">
      (function (g, e, n, es, ys) {
        g['_genesysJs'] = e;
        g[e] = g[e] || function () {
          (g[e].q = g[e].q || []).push(arguments)
        };
        g[e].t = 1 * new Date();
        g[e].c = es;
        ys = document.createElement('script'); 
        ys.async = 1; 
        ys.src = n; 
        ys.charset = 'utf-8'; 
        document.head.appendChild(ys);
      })(window, 'Genesys', 'https://apps.mypurecloud.de/genesys-bootstrap/genesys.min.js', {
        environment: 'prod-euc1',
        deploymentId: '96cc9cbc-610e-4d0d-a8eb-fdf18603607e'
      });
    </script>
  </body>
</html>
